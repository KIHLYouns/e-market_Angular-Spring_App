<main class="home-container">
  <app-category-list
    [categories]="categories"
    [selectedCategory]="filters.category || 'All Items'"
    (categoryChange)="onCategoryChange($event)"
  />

  <div class="content-wrapper">
    <app-filter-sidebar
      [filters]="filters"
      [isMobile]="isMobile"
      [isOpen]="isMobileFiltersOpen"
      (filterChange)="onFilterChange($event)"
      (clearFilters)="clearFilters()"
      (toggleMobile)="toggleMobileFilters()"
    />

    <app-items-grid
      [items]="items"
      [isLoading]="isLoading"
      [error]="error"
      [hasFilters]="hasFilters"
      (clearFilters)="clearFilters()"
    />
  </div>

  <button
    *ngIf="isMobile && !isMobileFiltersOpen"
    class="filter-toggle"
    (click)="toggleMobileFilters()"
  >
    <i class="fas fa-filter"></i>
    <span class="filter-count" *ngIf="activeFiltersCount">
      {{ activeFiltersCount }}
    </span>
  </button>

  <div
    class="overlay"
    *ngIf="isMobile && isMobileFiltersOpen"
    (click)="toggleMobileFilters()"
  ></div>
</main>
