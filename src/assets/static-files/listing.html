<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Product Details | e-market</title>
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="css/listing.css" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@500;600&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="header-left">
        <div class="logo">
          <i class="fas fa-solid fa-shop"></i><span>e-market</span>
        </div>
      </div>
      <div class="header-center">
        <div class="search-bar">
          <i class="fas fa-search"></i>
          <input type="text" placeholder="Search for items near you" />
          <button class="location-btn">
            <i class="fas fa-map-marker-alt"></i>
            New York
          </button>
        </div>
      </div>
      <div class="header-right">
        <nav>
          <a href="index.html" class="nav-item active"><i class="fas fa-home"></i></a>
          <a href="post-listing.html" class="nav-item"
            ><i class="fas fa-plus"></i
          ></a>
          <a href="#" class="nav-item"><i class="fas fa-comment"></i></a>
          <a href="#" class="nav-item"><i class="fas fa-bell"></i></a>
          <a href="profile.html" class="nav-item profile"
            ><img src="images/default-avatar.jpeg" alt="Profile"
          /></a>
        </nav>
      </div>
    </header>

    <!-- Product Listing -->
    <main class="listing-content">
      <div class="listing-container">
        <!-- Product Images -->
        <div class="product-images">
          <div class="main-image">
            <img src="images/product-placeholder.jpg" alt="MacBook Pro" />
            <button class="image-nav prev">
              <i class="fas fa-chevron-left"></i>
            </button>
            <button class="image-nav next">
              <i class="fas fa-chevron-right"></i>
            </button>
          </div>
          <div class="image-dots">
            <button class="dot active"></button>
            <button class="dot"></button>
            <button class="dot"></button>
            <button class="dot"></button>
          </div>
        </div>

        <!-- Product Info -->
        <div class="product-info">
          <!-- Product Header -->
          <div class="product-header">
            <div class="title-row">
              <h1>MacBook Pro 16" M2 Pro (2023)</h1>
              <button class="save-product-btn">
                <i class="far fa-heart"></i>
              </button>
            </div>
            <div class="price">$1,999</div>
            <div class="meta-info">
              <span class="condition">Like New</span>
              <span class="dot-separator">•</span>
              <span class="views">245 views</span>
              <span class="dot-separator">•</span>
              <span class="posted">2 days ago</span>
            </div>
          </div>

          <!-- Seller Info -->
          <div class="seller-info">
            <img
              src="images/default-avatar.jpeg"
              alt="John Smith"
              class="seller-avatar"
            />
            <div class="seller-details">
              <div class="seller-name">John Smith</div>
              <div class="seller-rating">
                <i class="fas fa-star"></i>
                <span>4.9 (120 reviews)</span>
              </div>
            </div>
            <button class="message-btn">Contact Seller</button>
          </div>

          <!-- Product Location -->
          <div class="product-location">
            <h2>Location</h2>
            <p><i class="fas fa-map-marker-alt"></i> New York, NY</p>
          </div>

          <!-- Product Description -->
          <div class="product-description">
            <h2>Description</h2>
            <p>
              Selling my MacBook Pro 16" with M2 Pro chip. Purchased in early
              2023, barely used and in perfect condition. Comes with original
              box and charger.
            </p>
          </div>
        </div>
      </div>
    </main>

    <script>
      // Save button toggle
      const saveBtn = document.querySelector(".save-btn");
      saveBtn.addEventListener("click", function () {
        const icon = this.querySelector("i");
        if (icon.classList.contains("fa-regular")) {
          icon.classList.remove("fa-regular");
          icon.classList.add("fa-solid");
          this.classList.add("saved");
        } else {
          icon.classList.remove("fa-solid");
          icon.classList.add("fa-regular");
          this.classList.remove("saved");
        }
      });

      // Image navigation
      const mainImage = document.querySelector(".main-image img");
      const dots = document.querySelectorAll(".dot");
      const prevBtn = document.querySelector(".prev");
      const nextBtn = document.querySelector(".next");
      const images = [
        "images/product-placeholder.jpg",
        "images/product-placeholder.jpg",
        "images/product-placeholder.jpg",
        "images/product-placeholder.jpg",
      ];
      let currentImage = 0;

      function updateImage(index) {
        mainImage.src = images[index];
        dots.forEach((dot) => dot.classList.remove("active"));
        dots[index].classList.add("active");
      }

      prevBtn.addEventListener("click", () => {
        currentImage = (currentImage - 1 + images.length) % images.length;
        updateImage(currentImage);
      });

      nextBtn.addEventListener("click", () => {
        currentImage = (currentImage + 1) % images.length;
        updateImage(currentImage);
      });

      dots.forEach((dot, index) => {
        dot.addEventListener("click", () => {
          currentImage = index;
          updateImage(currentImage);
        });
      });
    </script>
  </body>
</html>
